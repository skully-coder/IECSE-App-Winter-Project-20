__d(function(g,r,i,a,m,e,d){"use strict";function t({onFirstPhotoUpload:t}){var o;return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).FIRST_PHOTO_BODY,buttonText:a(d[2]).FIRST_PHOTO_CTA,headerText:a(d[2]).FIRST_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[2]).FIRST_PHOTO_BODY,onClick:null!==(o=t)&&void 0!==o?o:i(d[3])})}function o(){const t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).PHONE_BODY,buttonText:a(d[2]).PHONE_CTA,headerText:a(d[2]).PHONE_HEADER,icon:r(d[1]).ICONS.CALL_OUTLINE_24_GREY9,iconAlt:a(d[2]).PHONE_BODY,onClick:()=>t.push(r(d[5]).PHONE_CONFIRM_PATH)})}function n(){const t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).EDIT_PROFILE_BODY,buttonText:a(d[2]).EDIT_PROFILE_CTA,headerText:a(d[2]).EDIT_PROFILE_HEADER,icon:r(d[1]).ICONS.USER_OUTLINE_24_GREY9,iconAlt:a(d[2]).EDIT_PROFILE_BODY,onClick:()=>t.push(r(d[5]).PROFILE_EDIT_PATH)})}function c({profilePicEditRef:t}){return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).PROFILE_PHOTO_BODY,buttonText:a(d[2]).PROFILE_PHOTO_CTA,headerText:a(d[2]).PROFILE_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[2]).PROFILE_PHOTO_BODY,onClick:o=>{var n;null===t||void 0===t||null===(n=t.current)||void 0===n||n.handleEditProfilePic(o)}})}function l(){const t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).CONTACTS_BODY,buttonText:a(d[2]).CONTACTS_CTA,headerText:a(d[2]).CONTACTS_HEADER,icon:r(d[1]).ICONS.USERS_OUTLINE_24_GREY9,iconAlt:a(d[2]).CONTACTS_BODY,onClick:()=>t.push(r(d[5]).DISCOVER_PEOPLE_CONTACTS_PATH)})}Object.defineProperty(e,'__esModule',{value:!0});const s=a(d[0]).forwardRef(function(t,o){return a(d[0]).createElement("div",{className:t.className},a(d[0]).createElement(r(d[1]).Deck,{cardType:"ACTIVATOR",hasBlur:!r(d[6]).isMobile(),headerText:a(d[2]).GETTING_STARTED},t.children),a(d[0]).createElement(i(d[7]),{analyticsContext:t.analyticsContext,hasExistingPic:!1,ref:o}))});var E=r(d[4]).withRouter(r(d[13]).connect(function(t){var o;const n=r(d[11]).getViewer(t);return{canFBConnect:r(d[12]).shouldDisplayFacebookConnect(t),canImportContacts:t.contactImport.canImportContacts,hasName:''!==(null===n||void 0===n?void 0:n.fullName),hasPhoneNumber:null===n||void 0===n?void 0:n.hasPhoneNumber,hasProfilePic:null===n||void 0===n?void 0:n.hasProfilePic,isNew:null===n||void 0===n?void 0:n.isNew,profilePicUploadIsInFlight:t.users.profilePicUploadIsInFlight,viewerAllowsContactsSync:null===(o=t.settings.privacyAndSecurityData)||void 0===o?void 0:o.allowContactsSync.value}})(r(d[14]).withConnectedLifecycleLogging('NewUserActivatorsUnit')(class extends a(d[0]).Component{constructor(t){super(t),this.$NewUserActivatorsUnit1=a(d[0]).createRef()}render(){const{canFBConnect:E,canImportContacts:T,className:O,fallbackComponent:u,hasName:_,hasPhoneNumber:C,hasProfilePic:P,isNew:A,viewerAllowsContactsSync:h}=this.props;if(null==A||!1===A){var I;return null!==(I=u)&&void 0!==I?I:null}const N=[r(d[6]).isMobile()&&m===r(d[8]).MODULES.profile&&a(d[0]).createElement(t,{key:r(d[8]).KEYS.addFirstPhoto,onFirstPhotoUpload:this.props.onFirstPhotoUpload}),E&&a(d[0]).createElement(i(d[9]),{analyticsContext:i(d[10]).selfProfilePage,key:r(d[8]).KEYS.connectToFacebook,nuxType:"activator",returnURL:window.location.href}),T&&!0!==h&&a(d[0]).createElement(l,{key:r(d[8]).KEYS.importContacts}),!0!==C&&a(d[0]).createElement(o,{key:r(d[8]).KEYS.addPhone}),!0!==_&&a(d[0]).createElement(n,{key:r(d[8]).KEYS.editProfile}),!0!==P&&a(d[0]).createElement(c,{key:r(d[8]).KEYS.editProfilePhoto,profilePicEditRef:this.$NewUserActivatorsUnit1})].filter(t=>t);if(0===N.length){var R;return null!==(R=this.props.fallbackComponent)&&void 0!==R?R:null}return a(d[0]).createElement(s,{className:O,ref:this.$NewUserActivatorsUnit1},N)}})));e.default=E,e.ACTIVATOR_CARD_MODULES=r(d[8]).MODULES},13041664,[10158092,9895964,10289252,10158148,6,10158348,9895948,10747939,13041665,12845063,9895953,9895968,10289241,5,10289165]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){return a(d[0]).createElement(r(d[1]).BorderedIcon,{alt:r(d[2])(3002),icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,size:r(d[1]).CORE_CONSTANTS.AVATAR_SIZES.large})}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({analyticsContext:n,nuxType:o="onboarding",returnURL:l}){var E;const[u,_]=r(d[3]).useState(null),c=null===(E=r(d[4]).useSelector(r(d[5]).getViewer))||void 0===E?void 0:E.fbid,O=i(d[6])(),{isLoading:C,refetch:A}=i(d[7])({entryPoint:r(d[8]).NUX_ENTRY_POINT,returnPath:r(d[9]).FXCAL_CONSENT_PATH},{enabled:!1,initialStale:!0,onError:t=>{r(d[10]).logFXLinkingFlowError({errorContent:r(d[8]).CONNECT_TO_FACEBOOK_FAILURE,initiatorAccountId:c,linkingFlowEntryPoint:r(d[8]).NUX_ENTRY_POINT}),O({text:r(d[11]).GENERIC_ERROR_MESSAGE})},onSuccess:({error:t,info:n,web_auth:o})=>{if(t)return void _(t);const l=null===o||void 0===o?void 0:o.url,E=null===o||void 0===o?void 0:o.plain_token,u=r(d[12]).getLocalStorage();if(null!=l&&null!=E&&''!==E&&null!=u)try{return u.setItem(r(d[13]).FB_PLAIN_TOKEN,E),void r(d[14]).redirect(l)}catch(t){}O({text:r(d[11]).GENERIC_ERROR_MESSAGE})}}),T=()=>{!0!==i(d[15])._("221")?r(d[13]).redirectToFBOAuth(l,n):A()};return a(d[0]).createElement(a(d[0]).Fragment,null,'activator'===o?a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[16]).FACEBOOK_BODY,buttonText:a(d[16]).FACEBOOK_CTA,headerText:a(d[16]).FACEBOOK_HEADER,icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:a(d[16]).FACEBOOK_BODY,loading:C,onClick:T}):a(d[0]).createElement(i(d[17]),{bodyText:r(d[2])(3514),buttonText:r(d[2])(2649),headerText:r(d[2])(2621),icon:a(d[0]).createElement(t,null),isProcessing:C,onButtonClick:T}),u&&a(d[0]).createElement(i(d[18]),{handleExitFlow:()=>_(null),handleWebAuth:()=>_(null)}))}},12845063,[3,9895964,9895940,10158092,5,9895968,12845064,12845065,12845066,10158348,12845067,9895955,10092548,10289245,9895941,10158232,10289252,10289254,12845068]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({entryPoint:t,flow:n=i(d[0])(),picSize:o=56,returnPath:u="",webAuth:c},l){var s;const _='/api/v1/fxcal/web_init/',w={body:{device_id:r(d[1]).getDeviceId(),flow:n,ig_web_extra_data:u,pic_size:o,web_auth:c}},f=null===(s=r(d[2]).useSelector(r(d[3]).getViewer))||void 0===s?void 0:s.fbid;return r(d[4]).useQuery([_,{request:w}],async()=>{const n=await r(d[5]).apiPost(_,w,{options:{dataType:'json'}});return null!=t&&r(d[6]).logFXLinkingFlowInitiated({initiatorAccountId:f,linkingFlowEntryPoint:t}),n.data},{retry:!1,...l})}},12845065,[12845069,9895951,5,9895968,12845070,10158373,12845067]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(){return r(d[0]).isMobile()?r(d[1]).FLOW_TYPE_NUX_MOBILE:r(d[1]).FLOW_TYPE_NUX_DESKTOP}},12845069,[9895948,12845071]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.FLOW_TYPE_REG_MOBILE='IG_REG_MSITE',e.FLOW_TYPE_REG_DESKTOP='IG_REG_WEB',e.FLOW_TYPE_NUX_MOBILE='IG_NUX_MSITE',e.FLOW_TYPE_NUX_DESKTOP='IG_NUX_WEB'},12845071,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.logFXLinkingFlowInitiated=function({initiatorAccountId:t,linkingFlowEntryPoint:n}){i(d[0]).log(()=>({event:'linking_flow_initiated',initiator_account_id:t,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,linking_flow_entry_point:n,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE}))},e.logFXLinkingFlowError=function({errorContent:t,initiatorAccountId:n,linkingFlowEntryPoint:o}){i(d[0]).log(()=>({event:'generic_error',linking_flow_entry_point:o,initiator_account_id:n,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE,debug_data:t}))},e.logFXLinkingFlowEvent=function({debugData:t,event:n,initiatorAccountId:o,linkingFlowEntryPoint:_,url:c}){i(d[0]).log(()=>({event:n,initiator_account_id:o,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,linking_flow_entry_point:_,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE,url:c,debug_data:t}))}},12845067,[12845066]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const _=r(d[0]).isMobile()?'ig_fb_nux_find_friends_msite':'ig_fb_nux_find_friends_web',n=r(d[0]).isMobile()?'ig_fb_sign_up_msite':'ig_fb_sign_up_web',E={falco:!0,pigeon:!1};e.default=class{static log(_){r(d[1]).FalcoLogger.log('fxcal_linking_product',_(),{},E)}},e.INSTAGRAM_ACCOUNT_TYPE=1,e.FACEBOOK_ACCOUNT_TYPE=0,e.LINKING_REQUEST_FAILURE='Get linking disclosures request failure',e.ACCOUNT_DETAILS_NULL_DISCLOSURE_PAGE='AccountID or AuthProof null on disclosure page',e.WEB_CREATE_REQUEST_FAILURE='Web create request failure',e.EMPTY_TOKEN_ERROR='Empty plain token when loading the consent screen',e.WEB_INIT_REQUEST_FAILURE='Web init failure',e.CONNECT_TO_FACEBOOK_FAILURE='Web connect to facebook request failure',e.NUX_ENTRY_POINT=_,e.REG_ENTRY_POINT=n},12845066,[9895948,9764876]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){const t={action:'EXIT_FLOW',label:r(d[0]).OK_TEXT};return{body:r(d[0]).GENERIC_ERROR_MESSAGE,primary_button:t}}function n({errorButton:t,handleExitFlow:n,handleWebAuth:o,...l}){var u;let c;switch(t.action){case'EXIT_FLOW':c=n;break;case'WEB_AUTH':c=o}return a(d[1]).createElement(r(d[2]).DialogItem,i(d[3])({color:"ig-primary-button",onClick:c},l),null!==(u=t.label)&&void 0!==u?u:'')}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({errorContent:o=t(),handleExitFlow:l,handleWebAuth:u}){const c=null==(o.primary_button||o.secondary_button||o.negative_button)?l:void 0;return a(d[1]).createElement(r(d[2]).Dialog,{body:o.body,onModalClose:c,title:o.title},o.negative_button&&a(d[1]).createElement(n,{color:"ig-error-or-destructive",errorButton:o.negative_button,handleExitFlow:l,handleWebAuth:u}),o.primary_button&&a(d[1]).createElement(n,{color:"ig-primary-button",errorButton:o.primary_button,handleExitFlow:l,handleWebAuth:u}),o.secondary_button&&a(d[1]).createElement(n,{errorButton:o.secondary_button,handleExitFlow:l,handleWebAuth:u}))}},12845068,[9895955,3,9895964,10092555]);